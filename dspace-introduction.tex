%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  Init Apollo-NG Beamer Slides
%

\documentclass{beamer}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{pxfonts}
\usepackage[english]{babel}
\usetikzlibrary{calc}
\usefonttheme{professionalfonts}
\usecolortheme[RGB={117,137,12}]{structure}

\definecolor{title}{RGB}{117,137,12}
\definecolor{subtitle}{RGB}{230,230,230}
\definecolor{block}{RGB}{185,182,174}
\definecolor{secinhead}{RGB}{227,220,201}
\definecolor{titlebg}{RGB}{51,51,51}
\setbeamercolor{secsubsec}{fg=secinhead}
\setbeamercolor{frametitle}{fg=title}
\setbeamersize{text margin left=1.75em}

% Provide JSON Syntax Highlighting

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    literate=
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}


\setbeamertemplate{headline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=3ex,dp=2ex]{secsubsec}%
    \raggedright
    \hspace*{2em}%
    {\sffamily\fontsize{7}{9}\selectfont\color{secinhead}\thesection.~\insertsection\hfill\insertsubsection}%
    \hspace*{2em}%
  \end{beamercolorbox}%
  }%
}
\setbeamertemplate{frametitle}
{
  \leavevmode
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.45ex,dp=0ex]{frametitle}%
    \raggedright\hspace*{1.3em}\Large\insertframetitle
  \end{beamercolorbox}
  }%
}

%\setbeamercovered{transparent} Activating this breaks \pause and sequenced items

\newcommand\Fontvi{\fontsize{6}{7.2}\selectfont}

\setbeamertemplate{background canvas}{\includegraphics
	[width=\paperwidth,height=\paperheight]{images/background.png}}

\makeatletter
\definecolor{pbfc}{RGB}{117,137,12}% filling color for the progress bar
\definecolor{pbbg}{HTML}{282828}% background color for the progress bar
\def\progressbar@progressbar{} % the progress bar
\newcount\progressbar@tmpcounta% auxiliary counter
\newcount\progressbar@tmpcountb% auxiliary counter
\newdimen\progressbar@pbht %progressbar height
\newdimen\progressbar@pbwd %progressbar width
\newdimen\progressbar@tmpdim % auxiliary dimension

\progressbar@pbwd=70ex
\progressbar@pbht=1ex

% the progress bar
\def\progressbar@progressbar
{%
 \progressbar@tmpcounta=\insertframenumber
 \progressbar@tmpcountb=\inserttotalframenumber
 \progressbar@tmpdim=\progressbar@pbwd
 \multiply\progressbar@tmpdim by \progressbar@tmpcounta
 \divide\progressbar@tmpdim by \progressbar@tmpcountb

 \begin{tikzpicture}[rounded corners=1pt,very thin]
  % Colors
  \colorlet{border}{black}
  \shade[top color=pbbg!100,bottom color=pbbg!80,top color=pbbg!100]
   (0pt, 0pt) rectangle ++ (\progressbar@pbwd, \progressbar@pbht);
  \shade[draw=pbfc,top color=pbfc!50,bottom color=pbfc!50,middle color=pbfc] %
   (0pt, 0pt) rectangle ++ (\progressbar@tmpdim, \progressbar@pbht);
  \draw[color=border]
   (0pt, 0pt) rectangle (\progressbar@pbwd, \progressbar@pbht);
 \end{tikzpicture}%
}


\setbeamertemplate{navigation symbols}{}
\setbeamercolor{normal text}{fg=white}

\addtobeamertemplate{frametitle}{\vskip-0.25ex}{}
\addtobeamertemplate{footline}{\vskip-0.5ex}{}

\addtobeamertemplate{footline}{}
{%
 \begin{beamercolorbox}[ht=3ex,leftskip=1.5ex,rightskip=1ex]{author in head/foot}
  \progressbar@progressbar  \hspace{1.5ex} \textcolor{title}\insertframenumber
   \vspace{1.5ex}
  \end{beamercolorbox}
}
\makeatother



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  Begin Presentation
%



\title[DSpace]{\fontsize{22}{24}\selectfont DSpace}
\subtitle[A new way of handling geolocation based information ]{\fontsize{12}{14}\selectfont \textcolor{subtitle}{A new way of handling geolocation based information }}
\author[iggy \& chrono]{\\[3ex]iggy \& chrono}

\institute[Apollo-NG]{
 \includegraphics[scale=0.5]{images/apollo-mission-badge.pdf}}
}
\date[June 2013]{2013-06-13}


\begin{document}


%--- the titlepage frame -------------------------%
{
\setbeamertemplate{background canvas}{\includegraphics
 [width=\paperwidth,height=\paperheight]{images/background-title.png}}
\setbeamertemplate{headline}{}
\setbeamertemplate{footline}{}
\begin{frame}[plain]
 \vspace{1em}
 \titlepage
\end{frame}
}

\addtocounter{framenumber}{-1}


%--- teaser question -------------------------%

{
\setbeamertemplate{headline}{}
\setbeamertemplate{footline}{}
\begin{frame}[plain]
\frametitle{\vspace{-2.12ex}Question}
  \textit{"If life were a just computer game with awesome sensory input,\linebreak
  which standard game features would be missing in our interface\linebreak
  in order to play it well, especially when playing in groups?"}
\end{frame}
}

\addtocounter{framenumber}{-1}

%--- teaser answer -------------------------%

{
\setbeamertemplate{headline}{}
\setbeamertemplate{footline}{}
\begin{frame}[plain]
\frametitle{\vspace{-2.12ex}Interface View}
Image Street - boring
\pause
Image Street - DSpaced
\end{frame}
}

\addtocounter{framenumber}{-1}

%--- the toc frame -------------------------%

{
\setbeamertemplate{headline}{}
\setbeamertemplate{footline}{}
\begin{frame}[plain]
\frametitle{\vspace{-2.12ex}Talk-Contents}
 \tableofcontents
\end{frame}
}

\addtocounter{framenumber}{-1}
\setcounter{page}{1}

%
%  Begin Content
%

\section{Who we are?}

\begin{frame}{Who we are?}
 \vspace{0.8em}
 \begin{center}
  \includegraphics[scale=0.4]{images/dspace-hackers}
 \end{center}
\end{frame}

\section{What do we want?}

\begin{frame}{What do we want?}
 Staging our wants
\end{frame}

\begin{frame}{Something like a standard}
 Increase the likelyhood and efficiency of adding/sharing information by introducing
 a standardized framework like the W3c in 1993.
 \linebreak
 \begin{itemize}
  \item Federation
  \item Free
  \item Open Source
  \item Lose Bindings
  \item Modular Extensions
 \end{itemize}
\end{frame}

\begin{frame}{Open Basemaps}
 \begin{columns}
  \column{.4\textwidth}
   \linebreak
   \linebreak
   \includegraphics[scale=0.5]{images/basemap_layers}
  \column{.6\textwidth}
   Basemap Tile Assembly:
   \vspace{0.6em}
   \begin{itemize}
    \itemsep 0.65em
    \item Roads (OSM)
    \item Land Usage (OSM)
    \item Boundaries (OSM)
    \item Hydrography (OSM/External)
    \item Topography (NASA/DLR SRTM)
    \item Land Imagery (NASA Blue Marble)
   \end{itemize}
   \linebreak
 \end{columns}
\end{frame}

\begin{frame}{Basemap Properties}
 \begin{columns}
  \column{.3\textwidth}
   \includegraphics[scale=0.15]{images/basemap_tile}
  \column{.7\textwidth}
   \begin{itemize}
    \item Static/Longterm data retention \& validity
    \item General interest
    \item Only one basemap is visible at a time
    \item Composition based on region/application
    \item Updates are resource intensive
    \item Server based rendering
   \end{itemize}
 \end{columns}
\end{frame}

\begin{frame}{Overlays}
 \begin{columns}
  \column{.6\textwidth}
   \linebreak
   \linebreak
   Basemap + Overlay Assembly:
   \vspace{1.5em}
   \begin{itemize}
    \itemsep 1.5em
    \item POIs
    \item Real-Time Location tracking
    \item Waypoints on a route (Navigation)
    \item User/Overlay selected Basemap
   \end{itemize}
   \linebreak
  \column{.4\textwidth}
   \linebreak
   \linebreak
   \includegraphics[scale=0.5]{images/overlay_layers}
 \end{columns}
\end{frame}

\begin{frame}{Overlay Properties}
 \begin{columns}
  \column{.6\textwidth}
   \begin{itemize}
    \item Collections of things at locations
    \item Public or private
    \item Can be very dynamic (Real-Time)
    \item Many can be overlayed at a time
    \item User-generated and -updated
    \item Very fast \& cheap updates
    \item Suited for browser/client rendering
   \end{itemize}
  \column{.4\textwidth}
   \includegraphics[scale=0.5]{images/overlay_view}
 \end{columns}
\end{frame}

\begin{frame}{Overlay ideas}{}
 \begin{itemize}
  \item Urban Management
   \begin{itemize}
    \item Emergency Response Management (First Responder Setup)
    \item Hitchhiking (linking drivers/hikers in a sector - hitchwiki.org)
    \item Real-Time public transportation information
    \item Real-Time risk distribution
   \end{itemize}
  \item Resource Management
   \begin{itemize}
    \item Food Mapping/Sharing (mundraub/foodshare.org)
    \item Dumpster Diving (trashwiki.org)
    \item Fleet Management
    \item Open Access Mapping (openwifimap.net)
   \end{itemize}
  \item Organizing Events
   \begin{itemize}
    \item Public congress/camp Overlay for visitors
    \item Private engel Overlays for orga
   \end{itemize}

 \end{itemize}
\end{frame}

\begin{frame}{Even more Overlay ideas}{}
 \vspace{1em}
 \begin{itemize}
  \item Realtime Semantic Mapping ⇒ Heat mapping twitter hashtags (i.e. heatmap \#earthquake to find current EQ reports and positions)
  \item Private group overlays for the area of activity (i.e. MuCCC)
  \item Drone GCS Interfacing ⇒ Localization and interactive Mission/WayPoint Management
  \item Entertainment ⇒ Geocaching, AR-MMORPGs, AR-MMO-Strategy-Games
  \item Open Network Access ⇒ Mapping Access Points (http://openwifimap.net)-http://map.pberg.freifunk.net/ + ham-radio repeater information
  \item ADS-B Airplane Mapping Overlay
  \item Use your imagination
 \end{itemize}
\end{frame}

\begin{frame}{Architecture Overview}
 \begin{center}
  \includegraphics[scale=0.35]{images/architecture.eps}
 \end{center}
\end{frame}



\section{What do we have?}

\begin{frame}{What do we have?}
 Staging our haves
\end{frame}

\begin{frame}{What do we have?}
 \begin{center}
  \vspace{0.8em}
  \includegraphics[scale=0.281]{images/logos}
 \end{center}
\end{frame}


\subsection{Basemaps}

\begin{frame}{Why not use OpenStreetMap Map-Servers?}
 \vspace{0.8em}
 \begin{columns}
  \column{.5\textwidth}
   {\small Not everything is in OSM:\vspace{1em}}
   \includegraphics[scale=0.169]{images/map_render_osm}
   \begin{itemize}
    \item Topography
    \item Aerial Imagery
    \item All non-STREETmap data
   \end{itemize}
  \column{.5\textwidth}
   {\small Not everything belongs in OSM:\vspace{1em}}
   \includegraphics[scale=0.169]{images/map_render_dspace}
   \begin{itemize}
    \item Tracking
    \item Personal/Private POIs
    \item Dynamic/Real-Time data
   \end{itemize}
 \end{columns}
\end{frame}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{Map Forge}
 \begin{itemize}
  \item NodeJS
  \item Mapnik + TileMill + OSM-Bright
  \item PostgreSQL + PostGIS + imposm
  \item OpenStreepMap data
  \item NASA/CGIAR SRTM SIR-C-Band V41 90m Topo data
  \item DLR SRTM X-Band SAR 25m Topo data (+/- 60° coverage)
  \item TerraSAR-X/TanDEM-X data (Future)
 \end{itemize}
\Fontvi
\lstset{language=C++,
                basicstyle=\color{black}\ttfamily,
                keywordstyle=\color{blue}\ttfamily,
                stringstyle=\color{red}\ttfamily,
                commentstyle=\color{green}\ttfamily,
                morecomment=[l][\color{magenta}]{\#}
}
\begin{block}{}
\begin{lstlisting}
  imposm -U gisuser -d gis -m \
  /tmp/osm-bright/imposm-mapping.py --overwrite-cache --read --write --optimize \
  --deploy-production-tables planet-latest.osm.pbf
\end{lstlisting}
\end{block}
\end{frame}

\begin{frame}{Map Forge Screenshot}
Include picture of Map Forge in action
\end{frame}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{Map Delivery}
 TileStream is also written in NodeJS and very easy to set up:
 \linebreak
 \begin{itemize}
  \item Copy maps from TileMill to your TileStream map folder
  \item Start TileStream*
 \end{itemize}
\Fontvi
\lstset{language=C++,
  basicstyle=\color{black}\ttfamily,
  keywordstyle=\color{blue}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  commentstyle=\color{green}\ttfamily,
  morecomment=[l][\color{magenta}]{\#}
}
\begin{block}{}
\begin{lstlisting}
  $ cp /tmp/my_map_from_tilemill.mbtiles /home/tilestream/maps/
  $ ./index.js --host my.fully.qualified.domainname --tiles=/home/tilestream/maps/
  Started [Server Tile].
  Started [Server Core:8888].
\end{lstlisting}
\end{block}
\tiny{*Obviously, this should be running as a service :)}
\end{frame}

\begin{frame}{Live DEMO of the TileStream WebUI}
 \begin{center}
  \includegraphics[scale=0.3]{images/tilestream_ui}
 \end{center}
\end{frame}

\subsection{Overlays}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{Overlays - GeoJSON}
 \Fontvi
 \lstset{language=json,
  numbers=left,
  numberstyle=\tiny,
  numbersep=-1.8ex,
  basicstyle=\color{black}\ttfamily,
  keywordstyle=\color{blue}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  commentstyle=\color{green}\ttfamily,
  morecomment=[l][\color{magenta}]{\#}
 }
 \begin{block}{}
  \begin{lstlisting}
    "type": "FeatureCollection",
      "name": "Pools",
      "features": [
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [11.62876, 48.15471]
          },
          "properties": {
            "type": "Pool",
            "indoor": "yes",
            "outdoor": "no",
            "title": "Cosimabad",
            "address": "Cosimastr. 5",
            "zip_code": "80925",
            "website": "http://www.swm.de/hallenbaeder/cosima-wellenbad.html"
          }
        },[...]
  \end{lstlisting}
 \end{block}
\end{frame}


\begin{frame}{Overlays}

GeoJSON Feed
    \begin{itemize}
      \item simple http readonly list
     \end{itemize}
SpaceAPI
      \begin{itemize}
      \item global list of hackerspaces, with live state info
     \end{itemize}
remotestorage.io
    \begin{itemize}
      \item unbound private/public data storage
     \end{itemize}
Navigation
      \begin{itemize}
      \item Routino
      \item OpenStreetMap dump as basis (just like TileMill)
     \end{itemize}
\end{frame}


\subsection{DSpace Client}

\begin{frame}{Client}
 Technologies:
 \begin{itemize}
  \item HTML5/JavaScript
  \item ModestMaps
 \end{itemize}
 \vspace{1em}
 Focus on:
 \begin{itemize}
  \item As lightweight as possible
  \item Powerful Plugin-API
  \item Mobile Readiness/Integration
 \end{itemize}
 \vspace{1em}
 Assembled, built and packaged with NodeJS.
\end{frame}

\begin{frame}{DSpace Client Live DEMO}
 \linebreak
 \begin{center}
  \includegraphics[scale=0.3]{images/dspace_client_ui}
 \end{center}
\end{frame}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{NPM Package Overview}
\Fontvi
\lstset{language=C++,
                basicstyle=\color{black}\ttfamily,
                keywordstyle=\color{blue}\ttfamily,
                stringstyle=\color{red}\ttfamily,
                commentstyle=\color{green}\ttfamily,
                morecomment=[l][\color{magenta}]{\#}
}
\begin{block}{}
\begin{lstlisting}
   almond@0.2.4
   backbone@0.9.10
   bean@1.0.3
   bonzo@1.3.5
   csso@1.3.7
   domready@0.2.11
   + ender@1.1.0
   + ender-js@0.4.4-1 extraneous
   handlebars@1.0.8
     optimist@0.3.5
       wordwrap@0.0.2
     uglify-js@1.2.6
   morpheus@0.6.7
   qwery@3.4.1
   requirejs@2.1.4
   reqwest@0.6.4
   underscore@1.4.4
\end{lstlisting}
\end{block}
\end{frame}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{Comfortable Build Process}
\Fontvi
\lstset{language=C,
                basicstyle=\color{black}\ttfamily,
                morecomment=[l][\color{white}]{\#}
}
\begin{block}{}
\begin{lstlisting}
  # make init
  Rebuilding GIT submodules... [OK]
  Building local deps... [OK]
  Building AMD Deps... [OK]
  Assembling JS components... [OK]

  # make deps
  Building Ender... [OK]
  Building local deps... [OK]
  Building AMD Deps... [OK]
  Assembling JS components... [OK]

  # make build
  Building Ender... [OK]
  Building local deps... [OK]
  Building AMD Deps... [OK]
  Assembling JS components... [OK]
  Cleaning up build/... [OK]
  Build & minify dspace-client.js... [OK]
  Copying Assets... [OK]
  Copying Plugin Assets... [OK]
  Merging and compressing dspace-client.css... [OK]
  >>> Client build complete
\end{lstlisting}
\end{block}
\end{frame}

\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block body}{bg=block}
\begin{frame}[fragile]{Ops friendly deploy}
Easy and structured deployment leaves flexibility for
different setups and simple rewrites.
\linebreak
\Fontvi
\lstset{language=C,
                basicstyle=\color{black}\ttfamily,
                morecomment=[l][\color{white}]{\#}
}
\begin{block}{}
\begin{lstlisting}
  + assets
    + css
      - dspace-client.js
    + icons
    + images
  index.html
  + plugins
    + remotestorage
      + assets
        - remoteStorageIcon.svg
        - style.css
    + search
      + assets
\end{lstlisting}
\end{block}
\end{frame}



\section{What do we need?}

\begin{frame}{What do we need?}
 Staging our needs
\end{frame}

\begin{frame}{Directory Server}
 \vspace{0.8em}
 \begin{columns}
  \column{.5\textwidth}
   Serves a list of basemaps and overlay feeds
    \begin{itemize}
    \item Federated
    \item Searchable
    \item Ranked
    \item Geobound
    \item Tagged
    \end{itemize}
  \column{.5\textwidth}
   Attributes of a directory entry:
    \begin{itemize}
    \item Url
    \item Type (overlay or basemap)
    \item Topleft, bottomright
    \item Name
    \item Description
    \item Tags
    \item Rank
    \end{itemize}
 \end{columns}
\end{frame}

\begin{frame}{Client}
\begin{itemize}
\item More overlay functionality
    \begin{itemize}
    \item Polygons
    \item (Translated) images
    \item 3D
    \end{itemize}
\item Better mobile integration
    \begin{itemize}
    \item iOS
    \item Android
    \item Glass!
    \end{itemize}
\item Overlay browser
\end{itemize}
\end{frame}

\begin{frame}{Collaboration}
People ...
\begin{itemize}
\item ... forging and serving basemaps for their area
\item ... exposing existing geodata as dspace overlay feeds
\item ... helping with docs, bugs, issues, features (mostly on the client for now)
\end{itemize}
\end{frame}

%\begin{frame}{Utopia}
% Augmented Reality glasses (contact lens FTW!)
% ...
%\end{frame}

\begin{frame}{THEEND}
 Thanks for your attention.

 [QR + URL]

 Discussion
\end{frame}


\end{document}
